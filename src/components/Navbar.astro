---
const currentPath = Astro.url.pathname;
---

<nav class="modern-navbar">
  <!-- Decorative top border -->
  <div class="navbar-border"></div>
  
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex items-center justify-between h-16">
      <!-- Logo/Brand -->
      <div class="flex items-center">
        <a href="/" class="brand-link">
          <div class="brand-icon">
            <span class="icon-text"></span>
          </div>
          <span class="brand-text">Knowledge Base</span>
        </a>
      </div>

      <!-- Desktop Navigation -->
      <div class="hidden md:block">
        <div class="ml-10 flex items-baseline space-x-4">
          <!-- Inicio -->
          <a 
            href="/" 
            class={currentPath === '/' 
              ? 'nav-link active' 
              : 'nav-link'
            }
          >
            <span class="nav-icon"></span>
            Dashboard
          </a>

          <!-- Ciberseguridad -->
          <a 
            href="/ciberseguridad" 
            class={currentPath === '/ciberseguridad' 
              ? 'nav-link active' 
              : 'nav-link'
            }
          >
            <span class="nav-icon"></span>
            Ciberseguridad
          </a>

          <!-- Redes -->
          <a 
            href="/redes" 
            class={currentPath === '/redes' 
              ? 'nav-link active' 
              : 'nav-link'
            }
          >
            <span class="nav-icon"></span>
            Redes
          </a>

          <!-- Programaci贸n -->
          <a 
            href="/programacion" 
            class={currentPath === '/programacion' 
              ? 'nav-link active' 
              : 'nav-link'
            }
          >
            <span class="nav-icon"></span>
            Programaci贸n
          </a>

          <!-- Sistemas -->
          <a 
            href="/sistemas" 
            class={currentPath === '/sistemas' 
              ? 'nav-link active' 
              : 'nav-link'
            }
          >
            <span class="nav-icon">锔</span>
            Sistemas
          </a>

          <!-- Cloud -->
          <a 
            href="/cloud" 
            class={currentPath === '/cloud' 
              ? 'nav-link active' 
              : 'nav-link'
            }
          >
            <span class="nav-icon">锔</span>
            Cloud
          </a>

          <!-- Recursos -->
          <a 
            href="/recursos" 
            class={currentPath === '/recursos' 
              ? 'nav-link active' 
              : 'nav-link'
            }
          >
            <span class="nav-icon"></span>
            Recursos
          </a>
        </div>
      </div>

      <!-- Mobile menu button -->
      <div class="md:hidden">
        <button 
          id="mobile-menu-button"
          class="mobile-menu-btn"
        >
          <svg class="block h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
          </svg>
          <svg class="hidden h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>
    </div>

    <!-- Mobile Navigation Menu -->
    <div id="mobile-menu" class="mobile-menu md:hidden hidden">
      <div class="mobile-menu-content">
        <a href="/" class="mobile-nav-link">
          <span class="mobile-nav-icon"></span>
          Dashboard
        </a>
        
        <!-- Mobile Ciberseguridad -->
        <a href="/ciberseguridad" class="mobile-nav-link">
          <span class="mobile-nav-icon"></span>
          Ciberseguridad
        </a>
        
        <!-- Mobile Redes -->
        <a href="/redes" class="mobile-nav-link">
          <span class="mobile-nav-icon"></span>
          Redes
        </a>

        <!-- Mobile Programaci贸n -->
        <a href="/programacion" class="mobile-nav-link">
          <span class="mobile-nav-icon"></span>
          Programaci贸n
        </a>

        <!-- Mobile Sistemas -->
        <a href="/sistemas" class="mobile-nav-link">
          <span class="mobile-nav-icon">锔</span>
          Sistemas
        </a>

        <!-- Mobile Cloud -->
        <a href="/cloud" class="mobile-nav-link">
          <span class="mobile-nav-icon">锔</span>
          Cloud
        </a>

        <a href="/recursos" class="mobile-nav-link">
          <span class="mobile-nav-icon"></span>
          Recursos
        </a>
      </div>
    </div>
  </div>
</nav>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Mobile menu toggle
    const mobileMenuButton = document.getElementById('mobile-menu-button');
    const mobileMenu = document.getElementById('mobile-menu');
    const menuIcons = mobileMenuButton?.querySelectorAll('svg');

    mobileMenuButton?.addEventListener('click', function() {
      const isHidden = mobileMenu?.classList.contains('hidden');
      
      if (isHidden) {
        mobileMenu?.classList.remove('hidden');
        menuIcons?.[0].classList.add('hidden');
        menuIcons?.[1].classList.remove('hidden');
      } else {
        mobileMenu?.classList.add('hidden');
        menuIcons?.[0].classList.remove('hidden');
        menuIcons?.[1].classList.add('hidden');
      }
    });

    // Close mobile menu when clicking outside
    document.addEventListener('click', function(event) {
      const navbar = document.querySelector('nav');
      if (!navbar?.contains(event.target as Node)) {
        mobileMenu?.classList.add('hidden');
        menuIcons?.[0].classList.remove('hidden');
        menuIcons?.[1].classList.add('hidden');
      }
    });
  });
</script>

<style>
  /* Modern Navbar Styles */
  .modern-navbar {
    background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%);
    backdrop-filter: blur(20px);
    border-bottom: 1px solid rgba(148, 163, 184, 0.1);
    position: relative;
    overflow: hidden;
  }
  
  .navbar-border {
    height: 3px;
    background: linear-gradient(90deg, 
      #3b82f6 0%, 
      #8b5cf6 25%, 
      #06b6d4 50%, 
      #10b981 75%, 
      #3b82f6 100%);
    background-size: 200% 100%;
    animation: shimmer 4s ease-in-out infinite;
  }
  
  @keyframes shimmer {
    0%, 100% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
  }
  
  /* Brand Section */
  .brand-link {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    text-decoration: none;
    transition: all 0.3s ease;
  }
  
  .brand-link:hover {
    transform: scale(1.02);
  }
  
  .brand-icon {
    width: 2.5rem;
    height: 2.5rem;
    background: linear-gradient(135deg, #3b82f6, #8b5cf6);
    border-radius: 0.75rem;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 0 20px rgba(59, 130, 246, 0.3);
    position: relative;
    overflow: hidden;
  }
  
  .brand-icon::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
    animation: shine 3s ease-in-out infinite;
  }
  
  @keyframes shine {
    0%, 100% {
      transform: translateX(-100%) translateY(-100%) rotate(45deg);
    }
    50% {
      transform: translateX(100%) translateY(100%) rotate(45deg);
    }
  }
  
  .icon-text {
    font-size: 1.25rem;
    z-index: 1;
    position: relative;
  }
  
  .brand-text {
    color: #f8fafc;
    font-weight: 700;
    font-size: 1.125rem;
    background: linear-gradient(45deg, #f8fafc, #cbd5e1);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }
  
  /* Navigation Links */
  .nav-link {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1rem;
    border-radius: 0.75rem;
    font-size: 0.875rem;
    font-weight: 500;
    text-decoration: none;
    color: #cbd5e1;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
  }
  
  .nav-link::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(45deg, rgba(59, 130, 246, 0.1), rgba(139, 92, 246, 0.1));
    opacity: 0;
    transition: opacity 0.3s ease;
    border-radius: 0.75rem;
  }
  
  .nav-link:hover::before {
    opacity: 1;
  }
  
  .nav-link:hover {
    color: #f8fafc;
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.2);
  }
  
  .nav-link.active {
    color: #f8fafc;
    background: linear-gradient(45deg, rgba(59, 130, 246, 0.2), rgba(139, 92, 246, 0.2));
    box-shadow: 0 0 0 1px rgba(59, 130, 246, 0.3);
  }
  
  .nav-icon {
    font-size: 1rem;
    filter: drop-shadow(0 0 4px rgba(59, 130, 246, 0.5));
  }
  

  
  /* Mobile Menu Button */
  .mobile-menu-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0.5rem;
    border-radius: 0.75rem;
    color: #cbd5e1;
    background: none;
    border: none;
    cursor: pointer;
    transition: all 0.3s ease;
  }
  
  .mobile-menu-btn:hover {
    color: #f8fafc;
    background: rgba(59, 130, 246, 0.1);
    transform: scale(1.05);
  }
  
  /* Mobile Menu */
  .mobile-menu {
    background: linear-gradient(135deg, #1e293b, #334155);
    border-top: 1px solid rgba(148, 163, 184, 0.2);
  }
  
  .mobile-menu-content {
    padding: 1rem;
    space-y: 0.5rem;
  }
  
  .mobile-nav-link {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.75rem 1rem;
    border-radius: 0.75rem;
    font-size: 1rem;
    font-weight: 500;
    color: #cbd5e1;
    text-decoration: none;
    transition: all 0.3s ease;
    margin-bottom: 0.5rem;
  }
  
  .mobile-nav-link:hover {
    color: #f8fafc;
    background: rgba(59, 130, 246, 0.1);
    transform: translateX(4px);
  }
  
  .mobile-nav-icon {
    font-size: 1.25rem;
    width: 1.5rem;
    text-align: center;
  }
  

  
  /* Responsive Design */
  @media (max-width: 768px) {
    .brand-text {
      font-size: 1rem;
    }
    
    .brand-icon {
      width: 2rem;
      height: 2rem;
    }
    
    .icon-text {
      font-size: 1rem;
    }
  }
</style>